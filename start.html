<!doctype html>
<html lang="en-US">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BG1 Start</title>
<link rel="stylesheet" href="index.css">

<style>
  .skip-reminder {
    margin-top: 6rem;
    font-size: 1.5rem;
    text-align: center;
  }

  .samsung {
    display: none;
  }

</style>

<header>
  <h1>BG1 Start</h1>
</header>

<aside class="warning samsung">
  <p><strong>Samsung users:</strong> Bookmarklets are no longer supported by the Samsung Internet browser. To continue using BG1, you will need to set it up in Chrome instead. <a href="https://joelface.github.io/bg1/#chrome">Please follow these instructions</a>.</p>

  <p>Sorry for the inconvenience!</p>
</aside>

<script>
  if (navigator.userAgent.includes('SamsungBrowser')) {
    document.querySelector('.samsung')?.classList.remove('samsung');
  }
</script>

<main>
  <nav>
    <h2>Walt Disney World</h2>
    <ul class="buttons">
      <li><a href="https://disneyworld.disney.go.com/vas/">Genie+</a></li>
      <li><a href="https://vqguest-svc-wdw.wdprapps.disney.com/application/v1/guest/getQueues">Virtual Queue</a></li>
    </ul>

    <h2>Disneyland</h2>
    <ul class="buttons">
      <li><a href="https://disneyland.disney.go.com/vas/">Genie+</a></li>
      <li><a href="https://vqguest-svc.wdprapps.disney.com/application/v1/guest/getQueues">Virtual Queue</a></li>
    </ul>
  </nav>

  <div class="skip-reminder">
    <label><input type="checkbox"> <span>Skip bookmarklet reminder</span></label>
  </div>
</main>

<footer>
  <ul>
    <li><a href=".">Documentation</a></li>
    <li><a href="contact.html">Donate</a></li>
    <li><a href="https://github.com/joelface/bg1">GitHub</a></li>
  </ul>
</footer>

<script>
  const skipKey = 'bg1.skipReminder';
  const skipChk = document.querySelector('.skip-reminder input');
  skipChk.checked = localStorage.getItem(skipKey);
  skipChk.addEventListener('change', () => {
    localStorage.setItem(skipKey, skipChk.checked ? '1' : '');
  })

  function showReminder() {
    if (skipChk.checked) return;
    alert('After the "code" page loads, you need to run the BG1 Bookmarklet again to load the BG1 interface.');
  }

  document.querySelectorAll('.buttons a').forEach(a => {
    a.addEventListener('click', showReminder);
  });
</script>
